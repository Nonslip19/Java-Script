<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TR Identity Number Validation</title>
</head>

<body>

    <input type="number">
    <button>DoÄŸrula</button>
    <p></p>



    <script>
        var input = document.getElementsByTagName("input")[0];
        var button = document.getElementsByTagName("button")[0];
        var display = document.getElementsByTagName("p")[0];

        button.addEventListener("click", () => {
            var identity = input.value;

            var num = identity.split("");
            var collectionNum = 7 * (+num[0] + +num[2] + +num[4] + +num[6] + +num[8]) - (+num[1] + +num[3] + +
                num[5] + +num[7]);
            var number10 = collectionNum % 10;
            var number11 = [(+num[0] + +num[2] + +num[4] + +num[6] + +num[8]) + (+num[1] + +num[3] + +num[5] + +num[7]) + +number10] % 10;
            console.log(number11);
            if (identity[0] != 0 && number10 == num[9] && number11 == num[10]) {
                display.innerText = `${identity} is valid`
            }else if(identity.length != 11 || identity.length > 11){
                display.innerText = `Please enter 11 digit number`
            }
            else{
                display.innerText = `${identity} is invalid`
            }
        })
    </script>
</body>

</html>
